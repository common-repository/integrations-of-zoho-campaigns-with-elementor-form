"use strict";(self.webpackChunk_izcef=self.webpackChunk_izcef||[]).push([[42],{3312:(e,n,i)=>{i.d(n,{Z:()=>t});var l=i(5893);function t(e){var n=e.size,i=void 0===n?15:n,t=e.stroke,a=void 0===t?2:t;return(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 30 30",children:[(0,l.jsx)("polyline",{className:"svg-icn",points:"4 7.68 6.44 7.68 26 7.68"}),(0,l.jsx)("path",{className:"svg-icn",strokeWidth:a,d:"M23.56,7.68V24.76a2.45,2.45,0,0,1-2.45,2.44H8.89a2.45,2.45,0,0,1-2.45-2.44V7.68m3.67,0V5.24A2.45,2.45,0,0,1,12.56,2.8h4.88a2.45,2.45,0,0,1,2.45,2.44V7.68"}),(0,l.jsx)("line",{className:"svg-icn",strokeWidth:a,x1:"12.56",y1:"13.78",x2:"12.56",y2:"21.1"}),(0,l.jsx)("line",{className:"svg-icn",strokeWidth:a,x1:"17.44",y1:"13.78",x2:"17.44",y2:"21.1"})]})}},4383:(e,n,i)=>{i.d(n,{Mm:()=>c,P9:()=>d,WK:()=>u});var l=i(5861),t=i(4687),a=i.n(t),o=i(582),s=i(9492),r=i(5637),c=function(){var e=(0,l.Z)(a().mark((function e(n,i,l,t,o,c,d,u){var m,f,g,h,p,v,_,b,x,j;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g="flow/save",u(!0),h=t,"cond"!==(null==t||null==(m=t.condition)?void 0:m.action_behavior)&&(h.condition={action_behavior:"",actions:[{field:"",action:"value"}],logics:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]}),"Elementor"===n.triggered_entity&&(h.postId=d?null!=(p=null==n||null==(v=n.flow_details)?void 0:v.postId)?p:null:null!=(_=null==n||null==(b=n.triggerData)?void 0:b.postId)?_:null),x={name:t.name,trigger:n.triggered_entity,triggered_entity_id:null!=n&&null!=(f=n.triggerData)&&f.formID?n.triggerData.formID:n.triggered_entity_id||0,flow_details:h},n.id&&(x.id=n.id),d&&(g="flow/update"),e.prev=8,e.next=11,(0,s.Z)(x,g);case 11:return j=e.sent,!d&&j.success&&o.push(l),u(!1),e.abrupt("return",j);case 17:return e.prev=17,e.t0=e.catch(8),u(!1),e.abrupt("return",(0,r.__)("Failed to save integration"));case 21:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(n,i,l,t,a,o,s,r){return e.apply(this,arguments)}}(),d=function(){var e=(0,l.Z)(a().mark((function e(n){var i,l,t,c,d,u,m,f,g,h,p,v,_,b;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.flow,n.setFlow,t=n.allIntegURL,c=n.conf,d=n.history,n.index,u=n.edit,m=n.setIsLoading,n.setSnackbar,f="flow/save",m&&m instanceof Function&&m(!0),g=c,"Elementor"===l.triggered_entity&&(g.postId=u?null!=(h=null==l||null==(p=l.flow_details)?void 0:p.postId)?h:null:null!=(v=null==l||null==(_=l.triggerData)?void 0:_.postId)?v:null),b={name:c.name,trigger:l.triggered_entity,triggered_entity_id:null!=l&&null!=(i=l.triggerData)&&i.formID?l.triggerData.formID:l.triggered_entity_id||0,flow_details:g},l.id&&(b.id=l.id),u&&(f="flow/update"),e.prev=8,e.next=11,(0,s.Z)(b,f).then((function(e){var n;!u&&e.success&&d.push(t);var i="",l="success";null!=(n=e.data)&&n.msg?i=e.data.msg:e.success?i=u?(0,r.__)("Integration updated successfully"):(0,r.__)("Integration saved successfully"):(l="error",i=u?(0,r.__)("Failed to update integration"):(0,r.__)("Failed to save integration")),(0,o.ZP)(i,{type:l}),m&&m instanceof Function&&m(!1),u||setTimeout((function(){d.push(t)}),700)}));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(8),m&&m instanceof Function&&m(!1),e.abrupt("return",(0,r.__)("Failed to save integration"));case 17:case"end":return e.stop()}}),e,null,[[8,13]])})));return function(n){return e.apply(this,arguments)}}(),u=function(e){var n={},i=window.location.href.replace(window.opener.location.href+"/redirect","").split("&");i&&i.forEach((function(e){var i=e.split("=");i[1]&&(n[i[0]]=i[1])})),localStorage.setItem("__"+e,JSON.stringify(n)),window.close()}},3450:(e,n,i)=>{i.d(n,{Z:()=>x});var l=i(7462),t=i(7294),a=i(5637),o=i(7480),s=i(2249),r=i(5893);const c=function(e){var n=e.className,i=e.type,l=e.onClick,t=e.icn,a=e.children,o=e.style;return(0,r.jsx)("button",{style:o,className:(t?"icn-btn":"btn")+"  "+n,type:i||"button",onClick:l,"aria-label":"btcd-button",children:a})};var d=i(7707);const u=function(e){var n=e.className,i=e.onChange,l=e.value,t=e.label,a=e.children,o=e.style;return(0,r.jsxs)("div",{className:"btcd-mt-sel "+n,style:o,children:[(0,r.jsx)("select",{onChange:i,value:l||"",children:a}),(0,r.jsx)("small",{children:t})]})};var m=i(8530),f=(i(8774),i(3312));const g=function(e){var n=e.fieldVal,i=e.delLogic,l=e.lgcInd,t=e.subLgcInd,o=e.subSubLgcInd,s=e.value,g=e.changeLogic,h=e.logicValue,p=e.changeValue,v=e.changeFormField,_=e.formFields,b=e.setValue,x=[],j="",y="",N="";return null==_||null==_.find||_.find((function(e){if(e.key===n)return j=e.type.match(/^(check|radio)$/)?"text":e.type,y=e.type,N=e.key,!0})),(0,r.jsxs)("div",{className:"flx pos-rel btcd-logic-blk",children:[(0,r.jsx)("span",{className:"btcd-logic-chip mr-2",children:"IF"}),(0,r.jsxs)(u,{label:"Form Fields",value:n||"",style:{width:620},onChange:function(e){return v(e.target.value,l,t,o)},children:[(0,r.jsx)("option",{value:"",children:(0,a.__)("Select Form Field")}),null==_?void 0:_.map((function(e){return!e.type.match(/^(file|recaptcha)$/)&&(0,r.jsx)("option",{value:e.name,children:e.label},"ff-lb-"+e.name)}))]}),(0,r.jsx)("svg",{height:"35",width:"100",className:"mt-1",children:(0,r.jsx)("line",{x1:"0",y1:"20",x2:"40",y2:"20",style:{stroke:"#b9c5ff",strokeWidth:1}})}),(0,r.jsxs)(u,{label:"Logic",value:h||"",onChange:function(e){return g(e.target.value,l,t,o)},className:"w-5",children:[(0,r.jsx)("option",{value:"",children:(0,a.__)("Select One")}),(0,r.jsx)("option",{value:"equal",children:(0,a.__)("Equal")}),(0,r.jsx)("option",{value:"not_equal",children:(0,a.__)("Not Equal")}),(0,r.jsx)("option",{value:"null",children:(0,a.__)("Is Null")}),(0,r.jsx)("option",{value:"not_null",children:(0,a.__)("Is Not Null")}),(0,r.jsx)("option",{value:"contain",children:(0,a.__)("Contain")}),(0,r.jsx)("option",{value:"not_contain",children:(0,a.__)("Not Contain")}),(0,r.jsx)("option",{value:"greater",children:(0,a.__)("Greater Than (Number)")}),(0,r.jsx)("option",{value:"less",children:(0,a.__)("Less Than (Number)")}),(0,r.jsx)("option",{value:"greater_or_equal",children:(0,a.__)("Greater Than or Equal (Number)")}),(0,r.jsx)("option",{value:"less_or_equal",children:(0,a.__)("Less Than or Equal (Number)")}),(0,r.jsx)("option",{value:"start_with",children:(0,a.__)("Start With")}),(0,r.jsx)("option",{value:"end_with",children:(0,a.__)("End With")})]}),(0,r.jsx)("svg",{height:"35",width:"100",className:"mt-1",children:(0,r.jsx)("line",{x1:"0",y1:"20",x2:"40",y2:"20",style:{stroke:"#b9c5ff",strokeWidth:1}})}),y.match(/select|check|radio/g)?(0,r.jsx)(d.Z,{className:"msl-wrp-options btcd-paper-drpdwn w-6",defaultValue:s||"",onChange:function(e){return p(e,l,t,o)},options:function(){var e,n,i=[];"select"===y?i=null==x||null==(e=x[N])?void 0:e.opt:i=null==x||null==(n=x[N])||null==(n=n.opt)?void 0:n.map((function(e){return{label:e.lbl,value:e.val||e.lbl}}));return i}(),customValue:!0,fldType:y}):(0,r.jsx)(m.Z,{label:"Value",type:j,disabled:"null"===h||"not_null"===h,onChange:function(e){return p(e.target.value,l,t,o)},value:s||""}),(0,r.jsxs)("div",{className:"btcd-li-side-btn",children:[(0,r.jsx)(c,{onClick:function(){return i(l,t,o)},icn:!0,className:"ml-2 white mr-2 sh-sm",children:(0,r.jsx)(f.Z,{size:"16"})}),(0,r.jsx)(d.Z,{options:null==_?void 0:_.map((function(e){return"file"!==e.type&&{label:e.label,value:"${"+e.name+"}"}})),className:"btcd-paper-drpdwn wdt-200 ml-2",singleSelect:!0,onChange:function(e){return b(e,l,t,o)}})]})]})};const h=function(e){var n=e.logic,i=e.nested,l=e.onChange;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{height:i?5:10},children:(0,r.jsx)("svg",{height:"60",width:"50",children:(0,r.jsx)("line",{x1:"20",y1:i?6:10,x2:"20",y2:"0",style:{stroke:"#b9c5ff",strokeWidth:1}})})}),(0,r.jsx)("div",{children:(0,r.jsxs)("select",{value:n,onChange:l,className:"btcd-logic-chip "+(i&&"scl-7 op-8"),children:[(0,r.jsx)("option",{value:"or",children:(0,a.__)("OR")}),(0,r.jsx)("option",{value:"and",children:(0,a.__)("AND")})]})}),(0,r.jsx)("div",{style:{height:i?5:10},children:(0,r.jsx)("svg",{height:"60",width:"50",children:(0,r.jsx)("line",{x1:"20",y1:i?6:10,x2:"20",y2:"0",style:{stroke:"#b9c5ff",strokeWidth:1}})})})]})};const p=function(e){var n,i,l,t=e.formFields,a=e.dataConf,d=e.setDataConf,u=function(e,n,i,l){d(void 0!==l?function(t){var a=(0,s.p$)(t);return a.condition.logics[n][i][l]=e,a}:void 0!==i?function(l){var t=(0,s.p$)(l);return t.condition.logics[n][i]=e,t}:function(i){var l=(0,s.p$)(i);return l.condition.logics[n]=e,l})},m=function(e,n,i,l){d(void 0!==l?function(t){var a=(0,s.p$)(t);return a.condition.logics[n][i][l].field=e,a.condition.logics[n][i][l].val="",a}:void 0!==i?function(l){var t=(0,s.p$)(l);return t.condition.logics[n][i].field=e,t.condition.logics[n][i].val="",t}:function(i){var l=(0,s.p$)(i);return l.condition.logics[n].field=e,l.condition.logics[n].val="",l})},f=function(e,n,i,l){d(void 0!==l?function(t){var a=(0,s.p$)(t);return a.condition.logics[n][i][l].val=e,a}:void 0!==i?function(l){var t=(0,s.p$)(l);return t.condition.logics[n][i].val=e,t}:function(i){var l=(0,s.p$)(i);return l.condition.logics[n].val=e,l})},p=function(e,n,i,l){d(void 0!==l?function(t){var a=(0,s.p$)(t);return"null"===e&&(a.condition.logics[n][i][l].val=""),a.condition.logics[n][i][l].logic=e,a}:void 0!==i?function(l){var t=(0,s.p$)(l);return"null"===e&&(t.condition.logics[n][i].val=""),t.condition.logics[n][i].logic=e,t}:function(i){var l=(0,s.p$)(i);return"null"===e&&(l.condition.logics[n].val=""),l.condition.logics[n].logic=e,l})},v=function(e,n,i){var l;(null==a||null==(l=a.condition)||null==(l=l.logics)?void 0:l.length)>1&&d(void 0!==i?function(l){var t=(0,s.p$)(l);if(t.condition.logics[e][n].length===i+1)if(3===t.condition.logics[e][n].length){var a=t.condition.logics[e][n][i-2];t.condition.logics[e].splice(n,1),t.condition.logics[e].push(a)}else t.condition.logics[e][n].splice(i-1,2);else if(3===t.condition.logics[e][n].length){var o=t.condition.logics[e][n][i+2];t.condition.logics[e].splice(n,1),t.condition.logics[e].push(o)}else t.condition.logics[e][n].splice(i,2);return t}:void 0!==n?function(i){var l=(0,s.p$)(i);if(l.condition.logics[e].length===n+1)if(3===l.condition.logics[e].length){var t=l.condition.logics[e][n-2];l.condition.logics.splice(e,1),l.condition.logics.splice(e,0,t)}else l.condition.logics[e].splice(n-1,2);else if(3===l.condition.logics[e].length){var a=l.condition.logics[e][n+2];l.condition.logics.splice(e,1),l.condition.logics.splice(e,0,a)}else l.condition.logics[e].splice(n,2);return l}:function(n){var i=(0,s.p$)(n);return 0!==e?i.condition.logics.splice(e-1,2):i.condition.logics.splice(e,2),i})},_=function(e){"and"===e?d((function(e){var n=(0,s.p$)(e);return n.condition.logics.push("and"),n.condition.logics.push({field:"",logic:"",val:""}),n})):"or"===e?d((function(e){var n=(0,s.p$)(e);return n.condition.logics.push("or"),n.condition.logics.push({field:"",logic:"",val:""}),n})):"orGrp"===e?d((function(e){var n=(0,s.p$)(e);return n.condition.logics.push("or"),n.condition.logics.push([{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]),n})):"andGrp"===e&&d((function(e){var n=(0,s.p$)(e);return n.condition.logics.push("and"),n.condition.logics.push([{field:"",logic:"",val:""},"and",{field:"",logic:"",val:""}]),n}))},b=function(e,n){"and"===e?d((function(e){var i=(0,s.p$)(e);return i.condition.logics[n].push("and"),i.condition.logics[n].push({field:"",logic:"",val:""}),i})):"or"===e?d((function(e){var i=(0,s.p$)(e);return i.condition.logics[n].push("or"),i.condition.logics[n].push({field:"",logic:"",val:""}),i})):"orGrp"===e?d((function(e){var i=(0,s.p$)(e);return i.condition.logics[n].push("or"),i.condition.logics[n].push([{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]),i})):"andGrp"===e&&d((function(e){var i=(0,s.p$)(e);return i.condition.logics[n].push("and"),i.condition.logics[n].push([{field:"",logic:"",val:""},"and",{field:"",logic:"",val:""}]),i}))},x=function(e,n,i){"and"===e?d((function(e){var l=(0,s.p$)(e);return l.condition.logics[n][i].push("and"),l.condition.logics[n][i].push({field:"",logic:"",val:""}),l})):"or"===e&&d((function(e){var l=(0,s.p$)(e);return l.condition.logics[n][i].push("or"),l.condition.logics[n][i].push({field:"",logic:"",val:""}),l}))},j=function(e,n,i,l){d(void 0!==l?function(t){var a=(0,s.p$)(t);return a.condition.logics[n][i][l].val=e,a}:void 0!==i?function(l){var t=(0,s.p$)(l);return t.condition.logics[n][i].val=e,t}:function(i){var l=(0,s.p$)(i);return l.condition.logics[n].val=e,l})};return(0,r.jsxs)("div",{style:{width:900},children:[(0,r.jsx)("div",{children:"cond"===(null==a||null==(n=a.condition)?void 0:n.action_behavior)&&(null==a||null==(i=a.condition)?void 0:i.logics.map((function(e,n){return(0,r.jsxs)("span",{children:["object"===typeof e&&!Array.isArray(e)&&(0,r.jsx)(g,{fieldVal:e.field,changeFormField:m,changeValue:f,logicValue:e.logic,changeLogic:p,delLogic:v,lgcInd:n,value:e.val,formFields:t,setValue:j}),"string"===typeof e&&(0,r.jsx)(h,{logic:e,onChange:function(e){return u(e.target.value,n)}}),Array.isArray(e)&&(0,r.jsxs)("div",{className:"p-2 pl-6 br-10 btcd-logic-grp",children:[e.map((function(e,i){return(0,r.jsxs)("span",{children:["object"===typeof e&&!Array.isArray(e)&&(0,r.jsx)(g,{fieldVal:e.field,changeFormField:m,changeValue:f,logicValue:e.logic,changeLogic:p,delLogic:v,lgcGrpInd:0,lgcInd:n,subLgcInd:i,value:e.val,formFields:t,setValue:j}),"string"===typeof e&&(0,r.jsx)(h,{logic:e,nested:!0,onChange:function(e){return u(e.target.value,n,i)}}),Array.isArray(e)&&(0,r.jsxs)("div",{className:"p-2 pl-6 br-10 btcd-logic-grp",children:[e.map((function(e,l){return(0,r.jsxs)("span",{children:["object"===typeof e&&!Array.isArray(e)&&(0,r.jsx)(g,{fieldVal:e.field,changeFormField:m,changeValue:f,logicValue:e.logic,changeLogic:p,delLogic:v,lgcInd:n,subLgcInd:i,subSubLgcInd:l,value:e.val,formFields:t,setValue:j}),"string"===typeof e&&(0,r.jsx)(h,{logic:e,nested:!0,onChange:function(e){return u(e.target.value,n,i,l)}})]},"subsubLogic-"+(l+90))})),(0,r.jsx)("div",{className:"btcd-workFlows-btns",children:(0,r.jsxs)("div",{className:"flx",children:[(0,r.jsx)(c,{icn:!0,className:"blue",children:(0,r.jsx)(o.Z,{size:"14",className:"icn-rotate-45"})}),(0,r.jsxs)(c,{onClick:function(){return x("and",n,i)},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"," "]}),(0,r.jsxs)(c,{onClick:function(){return x("or",n,i)},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"," "]})]})})]})]},"subLogic-"+7*i)})),(0,r.jsx)("div",{className:" btcd-workFlows-btns",children:(0,r.jsxs)("div",{className:"flx",children:[(0,r.jsx)(c,{icn:!0,className:"blue sh-sm",children:(0,r.jsx)(o.Z,{size:"14",className:"icn-rotate-45"})}),(0,r.jsxs)(c,{onClick:function(){return b("and",n)},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"]}),(0,r.jsxs)(c,{onClick:function(){return b("or",n)},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"]}),(0,r.jsxs)(c,{onClick:function(){return b("orGrp",n)},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR Group"]}),(0,r.jsxs)(c,{onClick:function(){return b("andGrp",n)},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND Group"]})]})})]})]},"logic-"+(n+44))})))}),"cond"===(null==a||null==(l=a.condition)?void 0:l.action_behavior)&&(0,r.jsx)("div",{className:"btcd-workFlows-btns",children:(0,r.jsxs)("div",{className:"flx",children:[(0,r.jsxs)(c,{onClick:function(){return _("and")},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND"]}),(0,r.jsxs)(c,{onClick:function(){return _("or")},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR"]}),(0,r.jsxs)(c,{onClick:function(){return _("orGrp")},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"OR Group"]}),(0,r.jsxs)(c,{onClick:function(){return _("andGrp")},className:"blue ml-2",children:[(0,r.jsx)(o.Z,{size:"10",className:"icn-rotate-45 mr-1"}),"AND Group"]})]})})]})};var v=i(5257),_=i(1079),b=i(3921);function x(e){var n,i,o,s,c=e.step,d=e.saveConfig,u=e.edit,m=e.disabled,f=e.isLoading,g=e.dataConf,h=void 0===g?null:g,x=e.setDataConf,j=void 0===x?null:x,y=e.formFields,N=void 0===y?[]:y;(0,t.useEffect)((function(){if(h&&(null==h||!h.condition)){var e=(0,l.Z)({},h);e.condition={action_behavior:"",actions:[{field:"",action:"value"}],logics:[{field:"",logic:"",val:""},"or",{field:"",logic:"",val:""}]},j(e)}}),[]);var C=function(e,n){var i=(0,l.Z)({},h);i.condition.action_behavior=n?e:"",j(i)};return(0,r.jsxs)("div",{children:[(null==h?void 0:h.condition)&&u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flx",children:(0,r.jsx)(b.Z,{onChange:function(e){return C(e.target.value,e.target.checked)},checked:"cond"===(null==h||null==(n=h.condition)?void 0:n.action_behavior),className:"wdt-200 mt-4 mr-2",value:"cond",title:(0,a.__)("Conditional Logics","bit_integration")})}),(0,r.jsx)("br",{}),"cond"===(null==h||null==(i=h.condition)?void 0:i.action_behavior)&&(0,r.jsx)(p,{formFields:N,dataConf:h,setDataConf:j})]}),(null==h?void 0:h.condition)&&2===c&&!u&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flx pl-2",children:(0,r.jsx)(b.Z,{onChange:function(e){return C(e.target.value,e.target.checked)},checked:"cond"===(null==h||null==(o=h.condition)?void 0:o.action_behavior),className:"wdt-200 mt-4 mr-2",value:"cond",title:(0,a.__)("Conditional Logics","bit_integration")})}),(0,r.jsx)("br",{}),"cond"===(null==h||null==(s=h.condition)?void 0:s.action_behavior)&&(0,r.jsx)(p,{formFields:N,dataConf:h,setDataConf:j}),(0,r.jsx)(_.Z,{note:'\n  <ul>\n      <li>In this version, you can only map two fields of Zoho campaigns.If you want to map all of the fields of Zoho then the <a target="_blank" href="https://www.bitapps.pro/zoho-campaigns-with-elementor">Pro version</a> is available for you.</li>\n  </ul>',className:"fieldInfo"})]}),u?(0,r.jsx)("div",{className:"txt-center w-9 mt-3",children:(0,r.jsxs)("button",{onClick:d,className:"btn btcd-btn-lg green sh-sm flx",type:"button",disabled:f||m,children:[(0,a.__)("Update"),f&&(0,r.jsx)(v.Z,{size:20,clr:"#022217",className:"ml-2"})]})}):(0,r.jsxs)("div",{className:"btcd-stp-page txt-center",style:{width:3===c&&"100%",height:3===c&&"auto"},children:[(0,r.jsx)("h2",{className:"ml-3",children:(0,a.__)("Successfully Integrated")}),(0,r.jsxs)("button",{onClick:d,className:"btn btcd-btn-lg green sh-sm",type:"button",disabled:f,children:[(0,a.__)("Finish & Save "),"✔",f&&(0,r.jsx)(v.Z,{size:20,clr:"#022217",className:"ml-2"})]})]})]})}},4529:(e,n,i)=>{i.d(n,{P_:()=>o,Pd:()=>m,Pg:()=>u,Rx:()=>r,aS:()=>d});var l=i(7462),t=i(5637),a=i(9492),o=function(e,n,i,a,o,r){var c;if(e.dataCenter&&e.clientId&&e.clientSecret){o(!0);var d="https://accounts.zoho."+e.dataCenter+"/oauth/v2/auth?scope=ZohoCampaigns.contact.READ,ZohoCampaigns.contact.CREATE,ZohoCampaigns.contact.UPDATE&response_type=code&client_id="+e.clientId+"&prompt=Consent&access_type=offline&redirect_uri="+(null==(c=izcef)||null==(c=c.api)?void 0:c.base)+"/redirect&state="+encodeURIComponent(window.location.href)+"/redirect",u=window.open(d,"zohoCampaigns","width=400,height=609,toolbar=off"),m=setInterval((function(){if(u.closed){clearInterval(m);var i={},c=!1,d=localStorage.getItem("__zohoCampaigns");if(d&&(c=!0,i=JSON.parse(d),localStorage.removeItem("__zohoCampaigns")),i.code&&!i.error&&i&&c){var f=(0,l.Z)({},e);f.accountServer=i["accounts-server"],s(i,f,n,a,o,r)}else{var g=i.error?"Cause: "+i.error:"";r({show:!0,msg:(0,t.__)("Authorization failed")+" "+g+". "+(0,t.__)("please try again")}),o(!1)}}}),500)}else i({dataCenter:e.dataCenter?"":(0,t.__)("Data center cann't be empty"),clientId:e.clientId?"":(0,t.__)("Client ID cann't be empty"),clientSecret:e.clientSecret?"":(0,t.__)("Secret key cann't be empty")})},s=function(e,n,i,o,s,r){var c,d=(0,l.Z)({},e);d.dataCenter=n.dataCenter,d.clientId=n.clientId,d.clientSecret=n.clientSecret,d.redirectURI=(null==(c=izcef)||null==(c=c.api)?void 0:c.base)+"/redirect",(0,a.Z)(d,"zcampaigns_generate_token").then((function(e){return e})).then((function(e){if(e&&e.success){var a=(0,l.Z)({},n);a.tokenDetails=e.data,i(a),o(!0),r({show:!0,msg:(0,t.__)("Authorized Successfully")})}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?r({show:!0,msg:""+(0,t.__)("Authorization failed Cause:")+(e.data.data||e.data)+". "+(0,t.__)("please try again")}):r({show:!0,msg:(0,t.__)("Authorization failed. please try again")});s(!1)}))},r=function(e,n,i,t,a,o){var s=(0,l.Z)({},i);if(s[e.target.name]=e.target.value,"list"===e.target.name)s=c(s,n,t,a,o);t((0,l.Z)({},s))},c=function(e,n,i,t,a){var o,s=(0,l.Z)({},e);return s.field_map=[{formField:"",zohoFormField:"Contact Email"}],null!=s&&null!=(o=s.default)&&null!=(o=o.fields)&&o[s.list]||u(n,s,i,t,a),s},d=function(e,n,i,o,s){o(!0);var r={formID:e,id:n.id,dataCenter:n.dataCenter,clientId:n.clientId,clientSecret:n.clientSecret,tokenDetails:n.tokenDetails};(0,a.Z)(r,"zcampaigns_refresh_lists").then((function(e){if(e&&e.success){var a=(0,l.Z)({},n);e.data.lists&&(a.default=(0,l.Z)({},a.default,{lists:e.data.lists})),e.data.tokenDetails&&(a.tokenDetails=e.data.tokenDetails),s({show:!0,msg:(0,t.__)("Lists refreshed")}),i((0,l.Z)({},a))}else e&&e.data&&e.data.data||!e.success&&"string"===typeof e.data?s({show:!0,msg:""+(0,t.__)("Lists refresh failed Cause:")+(e.data.data||e.data)+". "+(0,t.__)("please try again")}):s({show:!0,msg:(0,t.__)("Lists refresh failed. please try again")});o(!1)})).catch((function(){return o(!1)}))},u=function(e,n,i,o,s){var r=n.list;if(r){o(!0);var c={formID:e,list:r,dataCenter:n.dataCenter,clientId:n.clientId,clientSecret:n.clientSecret,tokenDetails:n.tokenDetails};(0,a.Z)(c,"zcampaigns_refresh_contact_fields").then((function(e){if(e&&e.success){var a=(0,l.Z)({},n);e.data.fields?(a.default.fields||(a.default.fields={}),a.default.fields[r]=e.data,e.data.tokenDetails&&(a.tokenDetails=e.data.tokenDetails),s({show:!0,msg:(0,t.__)("Contact Fields refreshed")})):s({show:!0,msg:(0,t.__)("Zoho didn't provide fields names for this list")}),e.data.tokenDetails&&(a.tokenDetails=e.data.tokenDetails),i((0,l.Z)({},a))}else s({show:!0,msg:(0,t.__)("Contact Fields refresh failed. please try again")});o(!1)})).catch((function(){return o(!1)}))}},m=function(e){return!((null!=e&&e.field_map?e.field_map.filter((function(n){var i;return!n.formField&&n.zohoFormField&&-1!==(null==e||null==(i=e.default)||null==(i=i.fields)||null==(i=i[e.list])?void 0:i.required.indexOf(n.zohoFormField))})):[]).length>0)}},3314:(e,n,i)=>{i.d(n,{Z:()=>u});var l=i(5637),t=i(8381),a=i(4529),o=i(7462),s=(i(2804),i(3312),[{name:"_bi_current_time",label:"Current Date Time"},{name:"_bi_admin_email",label:"Administrator Email"},{name:"_bi_date_default",label:"Date (default format)"},{name:"_bi_date.m/d/y",label:"Date(mm/dd/yyy)"},{name:"_bi_date.d/m/y",label:"Date(dd/mm/yyy)"},{name:"_bi_date.y/m/d",label:"Date(Y-m-d)"},{name:"_bi_time",label:"Time"},{name:"_bi_weekday",label:"Weekday"},{name:"_bi_http_referer_url",label:"Referer URL"},{name:"_bi_ip_address",label:"User IP Address"},{name:"_bi_browser_name",label:"User Browser Name"},{name:"_bi_operating_system",label:"User Operating System"},{name:"_bi_random_digit_num",label:"Random Digit Number"},{name:"_bi_user_id",label:"User ID"},{name:"_bi_user_first_name",label:"User First Name"},{name:"_bi_user_last_name",label:"User Last Name"},{name:"_bi_user_display_name",label:"User Display Name"},{name:"_bi_user_nice_name",label:"User Nice Name"},{name:"_bi_user_login_name",label:"User Login Name"},{name:"_bi_user_email",label:"User Email"},{name:"_bi_user_url",label:"User Url"},{name:"_bi_current_user_role",label:"Current User Role"},{name:"_bi_author_id",label:"Post Author ID"},{name:"_bi_author_display",label:"Post Author Display Name"},{name:"_bi_author_email",label:"Post Author Email"},{name:"_bi_site_title",label:"Site Title"},{name:"_bi_site_description",label:"Site Description"},{name:"_bi_site_url",label:"Site URL"},{name:"_bi_wp_local_codes",label:"WordPress Locale Code"},{name:"_bi_post_id",label:"Embedded Page / Post ID"},{name:"_bi_post_name",label:"Embedded Page / Post Name"},{name:"_bi_post_title",label:"Embedded Page / Post Title"},{name:"_bi_post_url",label:"Embedded Page / Post URL"},{name:"_bi_post_date",label:"Post Publish Date"},{name:"_bi_post_modified_date",label:"Post Modified Date"}]),r=i(8530),c=i(5893);function d(e){var n,i,t=e.i,a=e.formFields,d=e.field,u=e.campaignsConf,m=e.setCampaignsConf,f=""===d.zohoFormField||-1===(null==(n=u.default.fields[u.list].required)?void 0:n.indexOf(d.zohoFormField)),g=function(e,n){var i=(0,o.Z)({},u);i.field_map[n][e.target.name]=e.target.value,"custom"===e.target.value&&(i.field_map[n].customValue=""),m(i)};return(0,c.jsxs)("div",{className:"flx flx-around mt-2 "+(f&&"mr-1"),children:[(0,c.jsxs)("select",{className:"btcd-paper-inp mr-2",name:"formField",value:d.formField||"",onChange:function(e){return g(e,t)},children:[(0,c.jsx)("option",{value:"",children:(0,l.__)("Select Field")}),(0,c.jsx)("optgroup",{label:"Form Fields",children:a.map((function(e){return"file"!==e.type&&(0,c.jsx)("option",{value:e.name,children:e.label},"ff-zhcrm-"+e.name)}))}),(0,c.jsx)("option",{value:"custom",children:(0,l.__)("Custom...")}),(0,c.jsx)("optgroup",{label:"General Smart Codes",children:null==s?void 0:s.map((function(e){return(0,c.jsx)("option",{value:e.name,children:e.label},"ff-rm-"+e.name)}))})]}),"custom"===d.formField&&(0,c.jsx)(r.Z,{onChange:function(e){return function(e,n){var i=(0,o.Z)({},u);i.field_map[n].customValue=e.target.value,m(i)}(e,t)},label:(0,l.__)("Custom Value"),className:"mr-2",type:"text",value:d.customValue,placeholder:(0,l.__)("Custom Value")}),(0,c.jsxs)("select",{className:"btcd-paper-inp",name:"zohoFormField",value:d.zohoFormField||"",disabled:!f,onChange:function(e){return g(e,t)},children:[(0,c.jsx)("option",{value:"",children:(0,l.__)("Select Field")}),f?(null==u||null==(i=u.default)||null==(i=i.fields)||null==(i=i[u.list])?void 0:i.fields)&&u.default.fields[u.list].fields.map((function(e){return"Contact Email"!==e&&(0,c.jsx)("option",{value:e,children:e},e+"-1")})):(0,c.jsx)("option",{value:"Contact Email",children:(0,l.__)("Contact Email")},"contact_email")]})]})}function u(e){var n,i,o=e.formID,s=e.formFields,r=e.handleInput,u=e.campaignsConf,m=e.setCampaignsConf,f=e.isLoading,g=e.setIsLoading,h=e.setSnackbar;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("br",{}),(0,c.jsx)("b",{className:"wdt-200 d-in-b",children:(0,l.__)("List:")}),(0,c.jsxs)("select",{onChange:function(e){return r(e)},name:"list",value:u.list,className:"btcd-paper-inp w-7",children:[(0,c.jsx)("option",{value:"",children:(0,l.__)("Select List")}),(null==u||null==(n=u.default)?void 0:n.lists)&&Object.values(u.default.lists).map((function(e){return(0,c.jsx)("option",{value:e.listkey,children:e.listname},e.listkey)}))]}),(0,c.jsx)("button",{onClick:function(){return(0,a.aS)(o,u,m,g,h)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,l.__)("Refresh Campaigns Lists")+"'"},type:"button",disabled:f,children:"↻"}),(0,c.jsx)("br",{}),(0,c.jsx)("br",{}),f&&(0,c.jsx)(t.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:100,transform:"scale(0.7)"}}),u.list&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"mt-4",children:[(0,c.jsx)("b",{className:"wdt-100",children:(0,l.__)("Map Fields")}),(0,c.jsx)("button",{onClick:function(){return(0,a.Pg)(o,u,m,g,h)},className:"icn-btn sh-sm ml-2 mr-2 tooltip",style:{"--tooltip-txt":"'"+(0,l.__)("Refresh Campaigns Contact Fields")+"'"},type:"button",disabled:f,children:"↻"})]}),(0,c.jsx)("div",{className:"btcd-hr mt-1"}),(null==(i=u.default)||null==(i=i.fields)?void 0:i[u.list])&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"flx flx-around mt-2 mb-2 izcef-field-map-label",children:[(0,c.jsx)("div",{className:"txt-dp",children:(0,c.jsx)("b",{children:(0,l.__)("Form Fields")})}),(0,c.jsx)("div",{className:"txt-dp",children:(0,c.jsx)("b",{children:(0,l.__)("Zoho Fields")})})]}),u.field_map.map((function(e,n){return(0,c.jsx)(d,{i:n,field:e,campaignsConf:u,formFields:s,setCampaignsConf:m},"campaigns-m-"+(n+9))}))]})]})]})}},8530:(e,n,i)=>{i.d(n,{Z:()=>t});var l=i(5893);const t=function(e){var n=e.label,i=e.onChange,t=e.value,a=e.disabled,o=e.type,s=e.textarea,r=e.className;return(0,l.jsxs)("label",{className:"btcd-mt-inp "+r,children:[!s&&(0,l.jsx)("input",{type:void 0===o?"text":o,onChange:i,placeholder:" ",disabled:a,value:t}),s&&(0,l.jsx)("textarea",{type:void 0===o?"text":o,onChange:i,placeholder:" ",disabled:a,value:t}),(0,l.jsx)("span",{children:n})]})}}}]);